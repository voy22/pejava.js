Object.defineProperty(exports,"__esModule",{value:!0});const react_dom_1=require("react-dom"),react_1=require("react");exports.AbstractComponent=void 0;class AbstractComponent extends react_1.PureComponent{constructor(t){super(t);this._cnt=0;this.app=t.app;this.target=t.target;this.target.target(this);this.handleEvent=this.handleEvent.bind(this)}className(){return this.target&&this.target._className||""}componentWillUnmount(){this.target.target(void 0)}componentDidMount(){this.target._mounted=!0;this.target._className+=" mnt";this.target._key&&document.getElementById(this.target._key.toString()).classList.add("mnt")}componentDidUpdate(){this.target.updated()}refresh(t){t&&this._cnt++;if(this.target&&this.target._mounted){this.timeoutId&&window.clearTimeout(this.timeoutId);this.timeoutId=window.setTimeout(()=>{this.forceUpdate();this.timeoutId=void 0},0)}}trigger(t){this.app.trigger(t)}_modifyOn(t){return"on"+t[0].toUpperCase()+t.substr(1)}handleEvent(t){this.target&&this.target.trigger(new Action(this._modifyOn(t.type),this.target,t.target))}events(){var t;return null===(t=this.target.events())||void 0===t?void 0:t.reduce((t,e)=>{t[e]=this.handleEvent;return t},{})}setKey(t){t._key||(t._key=this.app.genKey());return t._key.toString()}}exports.AbstractComponent=AbstractComponent;exports.BoxComponent=void 0;class BoxComponent extends AbstractComponent{popup(){if(this.target._popup)return react_1.createElement("div",{className:"popup-window"},react_1.createElement("div",{className:"popup-wrapper wrapper"},this.app.build(this.target.popup())))}html(){return react_1.createElement("div",{className:"wrapper blocks-wrapper"},this.target.children().map(t=>this.app.build(t)))}render(){return react_1.createElement("div",Object.assign({_cnt:this._cnt,className:this.className(),id:this.setKey(this.target)},this.events()),this.html(),this.popup())}}exports.BoxComponent=BoxComponent;exports.FieldComponent=void 0;class FieldComponent extends AbstractComponent{title(){if(this.target._title)return react_1.createElement("p",null,this.target.title())}error(){if(this.target._error)return react_1.createElement("p",{className:"error"},this.target.error())}comment(){if(this.target._comment)return react_1.createElement("p",{className:"comment"},this.target.comment())}value(){return this.target._value||""}wrapper(t){return react_1.createElement("div",{_cnt:this._cnt,className:"block-item block-"+this.target.constructor.__class__,id:this.setKey(this.target)},this.title(),react_1.createElement("div",{className:"input"},t),this.error(),this.comment())}element(){return react_1.createElement(react_1.Fragment,null)}render(){return this.wrapper(this.element())}}exports.FieldComponent=FieldComponent;exports.SelectComponent=void 0;class SelectComponent extends FieldComponent{constructor(t){super(t);this._ref=react_1.createRef();this._cnt=0}componentDidMount(){super.componentDidMount();this.target&&this._ref.current&&(this._ref.current.selectedIndex=this.target.index())}componentDidUpdate(){super.componentDidUpdate();this.target&&this._ref.current&&(this._ref.current.selectedIndex=this.target.index())}refresh(){this._cnt++;super.refresh()}element(){return react_1.createElement("div",{className:this.className()},react_1.createElement("select",Object.assign({},this.events(),{ref:this._ref,disabled:this.target.disabled()}),this.target.list().map((t,e)=>react_1.createElement("option",{key:this.setKey(t),value:t.value(),disabled:t.disabled()},t.title()))),react_1.createElement("span",null,""))}}exports.SelectComponent=SelectComponent;exports.ApplicationComponent=void 0;class ApplicationComponent extends BoxComponent{constructor(t){super(t);this.onload=t.onload;this._ref=react_1.createRef()}componentDidMount(){super.componentDidMount();this.onload(this.target)}ref(){return this._ref?this._ref.current:null}static createProperties(t,e){e||(e=new Application({}));return{onload:t,app:e,target:e}}html(){return react_1.createElement("div",{className:"wrapper"},this.target.children().map(t=>this.app.build(t)))}render(){return react_1.createElement("div",Object.assign({className:this.className(),id:this.setKey(this.target),ref:this._ref},this.events(),{_cnt:this._cnt}),this.html(),this.popup())}}exports.ApplicationComponent=ApplicationComponent;exports.Application&&(Application.component=ApplicationComponent);exports.BootComponent=void 0;class BootComponent extends Object{constructor(...t){super();this._init=!1;this._load=!1;let e="root";for(let s=0;s<t.length;s++)t[s]instanceof Function?this._cb=t[s]:"string"!=typeof t[s]||(e=t[s]);this.initReactDOM(e)}initReactDOM(t="root"){"complete"!==window.document.readyState?window.onload=(()=>this._initReactDOM(t)):this._initReactDOM(t)}_initReactDOM(t="root"){if(this._init)return;this.onLoad=this.onLoad.bind(this);let e=ApplicationComponent.createProperties(this.onLoad);react_dom_1.render(react_1.createElement(ApplicationComponent,Object.assign({},e)),document.getElementById(t));this._init=!0}onLoad(t){if(!this._load){this._load=!0;this.initRegister();this.initServices(t);this.eventReady(t)}}initRegister(){Application.register(Box);Application.register(Input);Application.register(Button);Application.register(Items);Application.register(Menu);Application.register(Container);Application.register(Select);Application.register(CheckBox);Application.register(Radio);Application.register(Textarea);Application.register(Img);Application.register(Picture);Application.register(PieChart);Application.register(Preloader);Application.register(Fields);Application.register(Action);Application.register(Item);Application.register(Listener);Application.register(Txt)}initServices(t){t.service("swiper",new ToucheListener);t.service("gridColumns",new GridColumns);t.service("req",new Req)}eventReady(t){const e=new CustomEvent("app",{detail:t});if("complete"!==window.document.readyState)document.addEventListener("DOMContentLoaded",()=>{this._cb&&this._cb.call(null,t);document.dispatchEvent(e)});else{this._cb&&this._cb.call(null,t);document.dispatchEvent(e)}}}exports.BootComponent=BootComponent;exports.ButtonComponent=void 0;class ButtonComponent extends AbstractComponent{render(){return react_1.createElement("button",Object.assign({_cnt:this._cnt,id:this.setKey(this.target)},this.events(),{className:this.className(),disabled:this.target.disabled()}),this.target.label())}}exports.ButtonComponent=ButtonComponent;exports.CheckBoxComponent=void 0;class CheckBoxComponent extends FieldComponent{constructor(t){super(t)}refresh(){super.refresh()}forId(){var t,e;return(null===(t=this.target)||void 0===t?void 0:t._key)?null===(e=this.target)||void 0===e?void 0:e._key.toString():""}element(){return react_1.createElement("div",{className:this.className()},react_1.createElement("input",Object.assign({_cnt:this._cnt,type:"checkbox",id:this.forId(),checked:this.target.checked(),disabled:this.target.disabled()},this.events())),react_1.createElement("label",{htmlFor:this.forId()},this.target.placeholder()))}wrapper(t){return react_1.createElement("div",{className:"block-item block-"+this.target.constructor.__class__},this.title(),t,this.error())}}exports.CheckBoxComponent=CheckBoxComponent;exports.ContainerComponent=void 0;class ContainerComponent extends BoxComponent{html(){return react_1.createElement(react_1.Fragment,null,react_1.createElement("div",{className:"header"+(this.target.icon()?" icon icon-"+this.target.icon():"")},react_1.createElement("div",{className:"title"},react_1.createElement("h1",null,this.target.title()),react_1.createElement("h2",null,this.target.description())),this.target.buttons()&&this.app.build(this.target.buttons())),react_1.createElement("div",{className:"blocks"},react_1.createElement("div",{className:"blocks-wrapper wrapper"},this.target.children().map(t=>this.app.build(t)))),this.footer())}footer(){return this.target.footer()?react_1.createElement("div",{className:"footer-container"},this.app.build(this.target.footer())):react_1.createElement(react_1.Fragment,null)}}exports.ContainerComponent=ContainerComponent;exports.FieldsComponent=void 0;class FieldsComponent extends FieldComponent{wrapper(t){return react_1.createElement("div",Object.assign({_cnt:this._cnt},this.events(),{className:"block-item "+this.className(),id:this.setKey(this.target)}),this.title(),t,this.error())}element(){return react_1.createElement("div",{className:"input wrapper"},this.target.children().map(t=>this.app.build(t)))}}exports.FieldsComponent=FieldsComponent;exports.IframeComponent=void 0;class IframeComponent extends AbstractComponent{render(){return react_1.createElement("iframe",Object.assign({_cnt:this._cnt,id:this.setKey(this.target)},this.events(),{className:this.className(),src:this.target.url()}))}}exports.IframeComponent=IframeComponent;exports.ImgComponent=void 0;class ImgComponent extends AbstractComponent{render(){return react_1.createElement("img",Object.assign({_cnt:this._cnt},this.events(),{alt:"",id:this.setKey(this.target),className:this.className(),src:this.target.url()}))}}exports.ImgComponent=ImgComponent;exports.InputComponent=void 0;class InputComponent extends FieldComponent{constructor(t){super(t);this.state={value:this.target.value()||""}}element(){return react_1.createElement(react_1.Fragment,null,react_1.createElement("input",Object.assign({},this.events(),{className:this.className(),type:this.target.propType()||"text",value:this.state.value,disabled:this.target.disabled(),required:"required",placeholder:this.target.placeholder()})),react_1.createElement("span",null,this.target.placeholder()))}}exports.InputComponent=InputComponent;exports.ItemsComponent=void 0;class ItemsComponent extends AbstractComponent{render(){return react_1.createElement("div",Object.assign({_cnt:this._cnt,id:this.setKey(this.target),className:this.className()},this.events()),this.target.list().map(t=>react_1.createElement("div",{key:this.setKey(t)},react_1.createElement("span",{className:"title"},t.title()),react_1.createElement("span",{className:"comment"},t.comment()))))}}exports.ItemsComponent=ItemsComponent;exports.MenuComponent=void 0;class MenuComponent extends AbstractComponent{render(){return react_1.createElement("div",Object.assign({_cnt:this._cnt,id:this.setKey(this.target),className:this.className()},this.events()),this.target.list().map(t=>react_1.createElement("a",{key:this.setKey(t),className:t.className,_key:t._key.toString(),target:t.href()?"_blank":void 0,href:t.href()||void 0},t.label()&&react_1.createElement("span",{className:"link"},t.label()),t.url()&&react_1.createElement("span",{className:"img",style:{backgroundImage:`url(${t.url()})`}}),react_1.createElement("span",{className:"title",_key:t._key.toString()},t.title()),t.comment()&&react_1.createElement("span",{className:"comment",_key:t._key.toString()},t.comment()))))}}exports.MenuComponent=MenuComponent;exports.PictureComponent=void 0;class PictureComponent extends AbstractComponent{render(){return react_1.createElement("div",Object.assign({_cnt:this._cnt,id:this.setKey(this.target)},this.events(),{className:this.className(),style:{backgroundImage:`url(${this.target.url()})`}}),react_1.createElement("span",null))}}exports.PictureComponent=PictureComponent;exports.PieChartComponent=void 0;class PieChartComponent extends AbstractComponent{polarToCartesian(t){let e=(t-90)*Math.PI/180;return{y:500+450*Math.sin(e),x:500+450*Math.cos(e)}}indicator(t,e){e>=360&&(e=359.99999);let s=this.polarToCartesian(-e),i=this.polarToCartesian(t),r=e-t<=180?0:1;return["M",s.x,s.y,"A",450,450,0,r,1,i.x,i.y].join(" ")}render(){let t=0;return react_1.createElement("div",Object.assign({_cnt:this._cnt,id:this.setKey(this.target),className:this.className()},this.events()),react_1.createElement("svg",{viewBox:"0 0 1000 1000"},react_1.createElement("circle",{cx:"500",cy:"500",r:"300"}),this.target.list().map(e=>react_1.createElement("path",{className:e.color()||"color-ok",key:this.setKey(e),d:this.indicator(0,t+=e.num())})).reverse()),react_1.createElement("div",null,this.target.list().map(t=>react_1.createElement("span",{className:t.color()||"color-ok",key:"_"+this.setKey(t)},t.title()))))}}exports.PieChartComponent=PieChartComponent;exports.PreloaderComponent=void 0;class PreloaderComponent extends AbstractComponent{render(){return react_1.createElement("div",{_cnt:this._cnt,className:this.className(),id:this.setKey(this.target)},this.target.label()||"")}}exports.PreloaderComponent=PreloaderComponent;exports.RadioComponent=void 0;class RadioComponent extends SelectComponent{wrapper(t){return react_1.createElement("div",{_cnt:this._cnt,className:"block-item"+(" "+this.target.layout()||""),id:this.setKey(this.target)},this.title(),react_1.createElement("div",Object.assign({},this.events(),{className:"wrapper"}),t),this.error())}element(){return react_1.createElement(react_1.Fragment,null,this.target.list().map(t=>react_1.createElement("div",{className:this.className(),key:this.setKey(t)},react_1.createElement("input",{type:"radio",id:t._key.toString(),value:t.value(),defaultChecked:t.active()}),react_1.createElement("label",{htmlFor:t._key.toString()},t.title()))))}}exports.RadioComponent=RadioComponent;exports.TextareaComponent=void 0;class TextareaComponent extends FieldComponent{constructor(t){super(t);this.state={value:this.target.value()||""}}element(){return react_1.createElement("textarea",Object.assign({},this.events(),{className:this.className(),placeholder:this.target.placeholder(),value:this.state.value,disabled:this.target.disabled()}))}}exports.TextareaComponent=TextareaComponent;exports.TxtComponent=void 0;class TxtComponent extends AbstractComponent{render(){return this.target._isText?react_1.createElement("span",{className:this.className(),id:this.setKey(this.target)},this.target.text()):react_1.createElement("span",Object.assign({_cnt:this._cnt,className:this.className(),id:this.setKey(this.target)},this.events(),{dangerouslySetInnerHTML:{__html:this.target.text()||""}}))}}exports.TxtComponent=TxtComponent;exports.AbstractElement=void 0;class AbstractElement{constructor(t){if(t){this.__className=t.className||"";void 0!=t.data&&this.data(t.data)}}_addAfterEvent(t){t.after=!0;(this._afterEvents||(this._afterEvents=[]))&&this._afterEvents.push(t);this._target&&this._target.refresh(!0);return t}target(t){if(arguments.length&&this._target!==t){this._target=t;this.className(this.__className)}return this._target}data(t){arguments.length&&(this._data=t);return this._data}className(t,e){if(arguments.length){this.__className=t?" "+t:"";this._target?this._className=this.constructor.__class__+this.__className:this._className=this.__className;this._mounted&&(this._className+=" mnt");!e&&this.refresh()}return this._className}refresh(){this._target&&this._mounted&&this._target.refresh()}updated(){if(this._afterEvents){for(let t=0;t<this._afterEvents.length;t++)this.trigger(this._afterEvents[t],!0);this._afterEvents=void 0}}listeners(){return this._listeners}events(){return this._events}_indexEvents(){var t,e;let s={};null===(t=this._listeners)||void 0===t||t.forEach(t=>{t.event&&void 0!==window.document[t.event.toLowerCase()]&&(s[t.event]=1)});this._events=Object.keys(s).sort();this._events.length||(this._events=void 0);null===(e=this._target)||void 0===e||e.refresh()}addListener(t){!this._listeners&&(this._listeners=[]);this._listeners.push(t);this._indexEvents()}removeListener(t){var e;if(this._listeners){this._listeners=null===(e=this._listeners)||void 0===e?void 0:e.filter(e=>e!==t);this._indexEvents()}}removeListeners(){this._listeners=void 0;this._events=void 0}trigger(t,e){if("string"==typeof t){t=new Action(t,this);e&&(t.after=!0)}if(!this._listeners||!this._listeners.length)return t;let s=0;for(let i=this._listeners.length-1;i>=0;i--)if(!e==!this._listeners[i].after){t.event===this._listeners[i].event&&this._listeners[i].trigger(t);if(t.stop)return t}else t.event===this._listeners[i].event&&s++;s&&!e&&this._addAfterEvent(t.clone(!0));return t}listen(...t){let e=new Listener;for(let s=0;s<arguments.length;s++)"string"==typeof t[s]?e.event=t[s]:t[s]instanceof Function?e.cb=t[s]:"boolean"==typeof t[s]&&(e.after=t[s]);this.addListener(e);return e}}exports.AbstractElement=AbstractElement;AbstractElement.__class__="Abstract";AbstractElement.component=AbstractComponent;exports.Action=void 0;class Action{constructor(t,e,s,i){this.target=e;this.event=t;this.listeners=0;this.after=i;Object.defineProperty(this,"target",{enumerable:!0,configurable:!1,writable:!1,value:e});Object.defineProperty(this,"event",{enumerable:!0,configurable:!1,writable:!1,value:t});if(s){this.ref=s;Object.defineProperty(this,"ref",{enumerable:!0,configurable:!1,writable:!1,value:s})}}clone(t){return new Action(this.event,this.target,this.ref,arguments.length?t:this.after)}}exports.Action=Action;Action.__class__="Action";exports.Box=void 0;class Box extends AbstractElement{constructor(t){super(t);this._children=t.children||[];t.layout&&(this._layout=t.layout)}children(t){if(t){this._children=t;this.refresh()}return this._children}length(t){if(void 0!==t&&t>=0)for(let e=this._children.length;e>t;e--)this.pop();return this._children.length}_checkInvalidItem(t){if(t===this){console.error("You tried to append element to himself",this._target);throw new Error("You tried to append element to himself")}return!1}push(t){this._checkInvalidItem(t);if(!this.trigger(new Action("onAdd",t)).stop){this._children.push(t);this.refresh();return t}}unshift(t){this._checkInvalidItem(t);if(!this.trigger(new Action("onAdd",t)).stop){this._children.unshift(t);this.refresh();return t}}shift(){if(!this._children.length)return;if(this.trigger(new Action("onRemove",this._children[0])).stop)return;let t=this._children.shift();this.refresh();return t}pop(){if(!this._children.length)return;if(this.trigger(new Action("onRemove",this._children[this._children.length-1])).stop)return;let t=this._children.pop();this.refresh();return t}remove(t){t instanceof Item&&(t=this._children.indexOf(t));if(t<0||t>=this._children.length)return;if(this.trigger(new Action("onRemove",this._children[t])).stop)return;let e=this._children.slice(t,1);this.refresh();return e[0]}get(t){if(!(t>=this._children.length||t<0))return this._children[t]}last(t){if(t){let e=this._children.indexOf(t);if(-1===e)return;for(let t=this._children.length-1;t>e;t--)this.pop()}if(this._children.length)return this._children[this._children.length-1]}popup(t,e){if(arguments.length){this._popup_listener&&this.removeListener(this._popup_listener);this._popup=t;this._closeble=e;t&&e&&(this._popup_listener=this.listen("onClick",this._popupListener.bind(this)));this.className(this.__className)}return this._popup}_popupListener(t){t.ref.classList.contains("popup-window")&&this.popup(void 0)}className(t,e){if(arguments.length){this.__className=t?" "+t:"";this._target?this._className=this.constructor.__class__+(this.__className?" "+this.__className:""):this._className=t;this._mounted&&(this._className+=" mnt");this._popup&&(this._className+=" popup");this._layout&&(this._className+=" "+this._layout);!e&&this.refresh()}return this._className}layout(t){if(arguments.length){this._layout=t;this.className(this.__className)}return this._layout}form(t=[],e){for(let s=0;s<this._children.length;s++)this._children[s]instanceof Box?this._children[s].form(t,e):this._children[s]instanceof Field&&this._children[s].name()&&(!this._children[s].disabled()||e)&&t.push([this._children[s].name(),this._children[s].value()]);return t}data(t={},e){for(let s=0;s<this._children.length;s++)this._children[s]instanceof Box?this._children[s].data(t,e):this._children[s]instanceof Field&&this._children[s].name()&&(!this._children[s].disabled()||e)&&(t[this._children[s].name()]=this._children[s].value());return t}destroy(){for(let t=0;t<this._children.length;t++)this._children[t]instanceof Box?this._children[t].destroy():super.removeListeners()}}exports.Box=Box;Box.__class__="Box";Box.component=BoxComponent;exports.Item=void 0;class Item{constructor(t){t.target&&(this.target=t.target);void 0!==t.title&&this.title(t.title,!0);void 0!==t.comment&&this.comment(t.comment,!0);void 0!==t.label&&this.label(t.label,!0);void 0!==t.num&&this.num(t.num,!0);void 0!==t.value&&this.value(t.value,!0);void 0!==t.href&&this.href(t.href,!0);void 0!==t.icon&&this.icon(t.icon,!0);t.color&&this.color(t.color,!0);void 0!==t.link&&this.link(t.link,t.link);void 0!==t.url&&this.url(t.url,!0);void 0!==t.active&&this.active(t.active,!0);void 0!==t.disabled&&this.disabled(t.disabled,!0);this._initClasses()}set target(t){this._target=t;this._target&&this._initClasses()}get target(){return this._target}value(t,e){if(arguments.length){this._value=t;!e&&this._initClasses(e)}return this._value}href(t,e){if(arguments.length){this._href=t;!e&&this._initClasses(e)}return this._href}num(t,e){arguments.length&&this.value(t.toString(),e);return this._value?parseFloat(this._value):0}title(t,e){if(arguments.length){this._title=t;!e&&this._initClasses(e)}return this._title}comment(t,e){if(arguments.length){this._comment=t;!e&&this._initClasses(e)}return this._comment}label(t,e){if(arguments.length){this._label=t;!e&&this._initClasses(e)}return this._label}icon(t,e){if(arguments.length){this._icon=t;!e&&this._initClasses(e)}return this._icon}url(t,e){if(arguments.length){this._url=t;!e&&this._initClasses(e)}return this._url}color(t,e){if(arguments.length){this._color=t;!e&&this._initClasses(e)}return this._color}link(t,e){if(arguments.length){this._link=t;!e&&this._initClasses(e)}return this._link}active(t,e,s){if(arguments.length){this._active=t;this._initClasses(!0);this.target&&!s&&this.target.active(this,e,!0)}return this._active}disabled(t,e,s){if(arguments.length){this._disabled=t;!e&&this._initClasses(e)}return this._disabled}_initClasses(t){this._className=((this._icon&&"icon icon-"+this._icon)+(this._color?" "+this._color:"")+(this._active?" active":"")+(this._value?" value":"")+(this._href?" href":"")+(this._url?" url":"")+(this._link?" link":"")).trim();this.target&&!t&&this.target.refresh()}get className(){return this._className||""}}exports.Item=Item;Item.__class__="Item";exports.Field=void 0;class Field extends AbstractElement{constructor(t){super(t);if(t){t.title&&(this._title=t.title);t.value&&(this._value=t.value);t.name&&(this._name=t.name);t.status&&(this._status=t.status);t.error&&(this._error=t.error);t.comment&&(this._comment=t.comment);t.disabled&&(this._disabled=t.disabled);t.placeholder&&(this._placeholder=t.placeholder)}}className(t,e){if(arguments.length){super.className(t,!0);this._status&&(this._className+=" "+this._status);this._disabled&&(this._className+=" disabled");!e&&this.refresh()}return this._className}status(t){if(arguments.length){this._status=t;this.className(this.__className)}return this._status}title(t){if(arguments.length){this._title=t;this.refresh()}return this._title}placeholder(t){if(arguments.length){this._placeholder=t;this.refresh()}return this._placeholder}name(t){arguments.length&&(this._name=t);return this._name}value(t){if(arguments.length){this._value=t;this.refresh()}return this._value}error(t){if(arguments.length){this._error=t;this.refresh()}return this._error}comment(t){if(arguments.length){this._comment=t;this.refresh()}return this._comment}disabled(t){if(arguments.length){this._disabled=t;this.className(this.__className)}return this._disabled}}exports.Field=Field;Field.__class__="Field";Field.component=FieldComponent;Field.regs={email:/^[\w.+-]*(@([\w.+-]*)?)?$/,chars:/^\w*$/,number:/^\d+$/,float:/^\d+(\.(\d+)?)?$/,"dd.mm.yyyy":/^((([012]([0-9])?)|(3([01])?))?(\.(((0([1-9])?)|(1([012])?))(\.([12](\d{0,3}))?)?)?)?)$/};Field.types={chars:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs.chars.test(e))},number:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs.number.test(e))},float:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs.float.test(e))},int:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=e!==parseInt(e).toString())},email:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs.email.test(e))},"dd.mm.yyyy":t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs["dd.mm.yyyy"].test(e))},date:t=>{let e=t.ref.value;""!==e&&t&&(t.stop=!Field.regs["dd.mm.yyyy"].test(e))}};exports.Menu=void 0;class Menu extends AbstractElement{constructor(t){super(t||{});if(t&&t.list){this.list(t.list);t.value&&this.value(t.value)}else this.list([]);this.listen("onClick",this.onClick.bind(this))}onClick(t){if(!t.ref||!t.target||t.stop)return;let e=t.ref.getAttribute("_key");if(void 0===e||null===e){!this.trigger(new Action("onSelect",this)).stop&&this.index(void 0);return}let s=parseInt(e);for(let t=0;t<this._list.length;t++)if(this._list[t]._key===s){this._nextIndex=t;this.trigger(new Action("onSelect",this)).stop||this.index(t);this._nextIndex=void 0;return}this.index(void 0)}list(t){if(t){let e;t.forEach((t,s)=>{t.target=this;t.active()&&(e=s)});this._list=t;void 0!==e&&this.index(e);this.refresh()}return this._list}nextIndex(){return this._nextIndex}index(t,e,s){if(arguments.length){if(this._index===t)return;void 0!==this._index&&this._list[this._index].active(!1,e,!0);void 0!==t&&(t>=this._list.length||t<0?t=void 0:s||this._list[t].active(!0,e,!0));this._index=t;!e&&this.refresh()}return this._index}active(t,e,s){if(arguments.length){if(void 0!==this._index){if(t===this._list[this._index])return;this.index(void 0,e,!0)}void 0!==t&&this.index(this._list.indexOf(t),e,s)}else if(void 0!==this._index)return this._list[this._index]}value(t,e){if(arguments.length){void 0!==this._index&&this.index(void 0,e);for(let s=0;s<this._list.length;s++)if(this._list[s].value()===t){this.index(s,e);break}}else if(void 0!==this._index)return this._list[this._index].value()}push(...t){t.forEach(t=>t.target=this);let e=this._list.push(...t);this.refresh();return e}unshift(...t){t.forEach(t=>t.target=this);let e=this._list.unshift(...t);this.refresh();return e}shift(){let t=this._list.shift();t&&(t.target=void 0);this.refresh();return t}pop(){let t=this._list.pop();t&&(t.target=void 0);this.refresh();return t}remove(t){if(t instanceof Item){let e=this._list.length;this._list=this._list.filter(e=>e!==t);if(e===this._list.length)return;t.target=void 0;this.refresh();return t}let e=this._list.slice(t,1);if(e.length){this.refresh();return e[0]}}get(t){if(!(t>=this._list.length||t<0))return this._list[t]}}exports.Menu=Menu;Menu.__class__="Menu";Menu.component=MenuComponent;exports.Select=void 0;class Select extends Field{constructor(t){super(t);this.listen("onChange",this.onChange.bind(this));if(t){this._list=t.list||[];this.list(this._list);t.value&&this.value(t.value)}else this._list=[]}trigger(t,e){let s=super.trigger(t,e);t.stop&&t.ref&&!e&&(void 0===this._index?t.ref.selectedIndex=-1:t.ref.selectedIndex=this._index);return s}onChange(t){if(t.ref&&t.target&&!t.stop){this.index(t.ref.selectedIndex,!0);this.refresh()}}list(t){return this._list}index(t,e){}value(t,e){}active(t){}nextIndex(){}push(...t){return 1}unshift(...t){return 1}shift(){}pop(){}remove(t){}get(t){}}exports.Select=Select;Select.__class__="Select";Select.component=SelectComponent;Select.prototype.list=Menu.prototype.list;Select.prototype.index=Menu.prototype.index;Select.prototype.value=Menu.prototype.value;Select.prototype.active=Menu.prototype.active;Select.prototype.nextIndex=Menu.prototype.nextIndex;Select.prototype.push=Menu.prototype.push;Select.prototype.unshift=Menu.prototype.unshift;Select.prototype.shift=Menu.prototype.shift;Select.prototype.pop=Menu.prototype.pop;Select.prototype.remove=Menu.prototype.remove;Select.prototype.get=Menu.prototype.get;exports.Img=void 0;class Img extends AbstractElement{constructor(t){if(t instanceof Object){super(t);t.url&&(this._url=t.url)}else if("string"==typeof t){super({});this._url=t}else super({})}url(t){if(arguments.length){this._url=t;this.refresh()}return this._url}}exports.Img=Img;Img.__class__="Img";Img.component=ImgComponent;exports.Application=void 0;class Application extends Box{constructor(){super(...arguments);this._services=[];this._increment_key=0}genKey(){return++this._increment_key}service(t,e){if(0===arguments.length)return this._services;if(1===arguments.length)return t&&this._services[t]?this._services[t]:void 0;if(!t||!e||"string"!=typeof t)throw new Error(`Wrong first argument for method service(String, ObjectInstance). Got: ${t}`);this._services[t]=e;Application._register[e.constructor.__class__]=e.constructor;e.mounted&&"function"==typeof e.mounted&&e.mounted(this)}static register(t){Application._register[t.__class__]=t}build(t){if(!t.key){Object.defineProperty(t,"_key",{enumerable:!0,configurable:!1,writable:!1,value:this.genKey()});Object.defineProperty(t,"key",{enumerable:!0,configurable:!1,writable:!1,value:this._key})}return t.constructor.component?react_1.createElement(t.constructor.component,{app:this,target:t,key:t._key}):react_1.createElement(AbstractComponent,{app:this,target:t,key:t._key})}export(t){Object.assign(t,Application._register)}}exports.Application=Application;Application.__class__="Application";Application._register={Item:Item,EnumIconColor:EnumIconColor,EnumColor:EnumColor,EnumStatus:EnumStatus,EnumLayout:EnumLayout,EnumContainer:EnumContainer};exports.ApplicationComponent&&(Application.component=ApplicationComponent);exports.Button=void 0;class Button extends AbstractElement{constructor(t){if("string"==typeof t){super({});this._label=t}else{t||(t={});super(t);this._label=t.label||"";t.disabled&&(this._disabled=t.disabled);t.onClick&&this.listen("onClick",e=>t.onClick(e))}}label(t){if(arguments.length){this._label=t||"";this.refresh()}return this._label}disabled(t){if(arguments.length){this._disabled=t;this.className(this.__className)}return this._disabled}}exports.Button=Button;Button.__class__="Button";Button.component=ButtonComponent;exports.CheckBox=void 0;class CheckBox extends Field{constructor(t){super(t);if(t){this._checked=t.checked||!1;this.listen("onChange",this.onChange.bind(this))}}value(t){if(arguments.length){this._value=t;this.refresh()}if(this._checked)return this._value}storedValue(){return this._value}onChange(t){if(t.ref&&t.target&&!t.stop){this._checked=t.ref.checked;this.refresh()}}checked(t){if(arguments.length){this._checked=!!t;this.refresh()}return this._checked}}exports.CheckBox=CheckBox;CheckBox.__class__="CheckBox";CheckBox.component=CheckBoxComponent;exports.Container=void 0;class Container extends Box{constructor(t){super(t);this._title=t.title||"";this._description=t.description||"";this._icon=t.icon;t.buttons&&this.buttons(new Fields({children:t.buttons}))}icon(t){if(arguments.length){this._icon=t||"";this.refresh()}return this._icon}buttons(t){if(arguments.length){this._buttons=t;this.refresh()}return this._buttons}title(t){if(arguments.length){this._title=t||"";this.refresh()}return this._title}description(t){if(arguments.length){this._description=t||"";this.refresh()}return this._description}footer(t){if(arguments.length){this._footer=t;this.className(this.__className)}return this._footer}className(t,e){if(arguments.length){super.className(t,!0);this._footer&&(this._className+=" footer");!e&&this.refresh()}return this._className}}exports.Container=Container;Container.__class__="Container";Container.component=ContainerComponent;exports.EnumLayout=exports.EnumIconColor=exports.EnumColor=exports.EnumStatus=exports.EnumContainer=exports.EnumPicture=void 0;var EnumPicture,EnumContainer,EnumStatus,EnumColor,EnumIconColor,EnumLayout;(function(t){t.ROUND="round"})(EnumPicture=exports.EnumPicture||(exports.EnumPicture={}));(function(t){t.PADDING="padding";t.MARGIN="margin";t.CENTER="center";t.LEFT="left";t.RIGHT="right"})(EnumContainer=exports.EnumContainer||(exports.EnumContainer={}));(function(t){t.OK="ok";t.ERROR="error";t.ACCENT="accent";t.WARN="warn"})(EnumStatus=exports.EnumStatus||(exports.EnumStatus={}));(function(t){t.OK="color-ok";t.ERROR="color-error";t.ACCENT="color-accent";t.WARN="color-warn"})(EnumColor=exports.EnumColor||(exports.EnumColor={}));(function(t){t.OK="icon-color-ok";t.ERROR="icon-color-error";t.ACCENT="icon-color-accent";t.WARN="icon-color-warn"})(EnumIconColor=exports.EnumIconColor||(exports.EnumIconColor={}));(function(t){t.ELEMENTS_SMALL="elements-small";t.ELEMENTS_MEDIUM="elements-medium";t.ELEMENTS_BIG="elements-big";t.ELEMENTS_HUGE="elements-huge";t.GRID_SMALL="grid-small";t.GRID_MEDIUM="grid-medium";t.GRID_BIG="grid-big";t.GRID_HUGE="grid-huge";t.GRID_COLUMN="grid-column";t.GRID_ROW="grid-row";t.WRAP="wrap";t.NOWRAP="nowrap";t.PICTURE_TEXT="picture-text"})(EnumLayout=exports.EnumLayout||(exports.EnumLayout={}));exports.Fields=void 0;class Fields extends Field{constructor(t){super(t);this._children=t.children||[]}children(t){return this._children}length(){return 0}push(t){}unshift(t){}shift(){}pop(){}remove(t){}last(t){}get(t){}popup(t,e){}form(t=[],e){return[]}data(t={},e){}layout(t){}_checkInvalidItem(t){return!0}}exports.Fields=Fields;Fields.__class__="Fields";Fields.component=FieldsComponent;Fields.prototype.children=Box.prototype.children;Fields.prototype.length=Box.prototype.length;Fields.prototype.push=Box.prototype.push;Fields.prototype.unshift=Box.prototype.unshift;Fields.prototype.shift=Box.prototype.shift;Fields.prototype.pop=Box.prototype.pop;Fields.prototype.remove=Box.prototype.remove;Fields.prototype.get=Box.prototype.get;Fields.prototype.last=Box.prototype.last;Fields.prototype.popup=Box.prototype.popup;Fields.prototype.form=Box.prototype.form;Fields.prototype.data=Box.prototype.data;Fields.prototype.layout=Box.prototype.layout;Fields.prototype._checkInvalidItem=Box.prototype._checkInvalidItem;exports.Iframe=void 0;class Iframe extends Img{}exports.Iframe=Iframe;Iframe.__class__="Iframe";Iframe.component=IframeComponent;exports.Input=void 0;class Input extends Field{constructor(t){super(t);this.listen("onChange",this.onChange.bind(this));t&&t.type&&this.type(t.type)}value(t){if(arguments.length){this._value=t;this._target&&this._target.setState({value:this.value()})}return this._value}propType(){return this._prop_type}type(t){if(arguments.length){this._type=t;switch(t){case"password":this._prop_type=t}this.refresh()}return this._type}onChange(t){if(t.ref&&t.target&&!t.stop){this._type&&Input.types[this._type]&&Field.types[this._type](t);t.stop||this.value(t.ref.value)}}}exports.Input=Input;Input.__class__="Input";Input.component=InputComponent;exports.Items=void 0;class Items extends Menu{}exports.Items=Items;Items.__class__="Items";Items.component=ItemsComponent;exports.Listener=void 0;class Listener{constructor(t,e,s){t&&(this.event=t);e&&(this.cb=e);s&&(this.after=s)}destroy(){this.event=void 0;this.cb=void 0}names(t={}){this.event&&(t[this.event]=1);return t}trigger(t){if(this.event&&this.event===t.event&&this.cb&&!!t.after==!!this.after){this.cb.call(null,t);t.listeners++}}clone(){return new Listener(this.event,this.cb,this.after)}}exports.Listener=Listener;Listener.__class__="Listener";exports.Picture=void 0;class Picture extends Img{}exports.Picture=Picture;Picture.__class__="Picture";Picture.component=PictureComponent;exports.PieChart=void 0;class PieChart extends AbstractElement{constructor(t){super(t);if(t&&t.list){this._list=t.list;this.list(this._list)}else this._list=[]}list(t){return this._list}push(...t){return 1}unshift(...t){return 1}shift(){}pop(){}remove(t){}get(t){}}exports.PieChart=PieChart;PieChart.__class__="PieChart";PieChart.component=PieChartComponent;PieChart.prototype.list=Menu.prototype.list;PieChart.prototype.push=Menu.prototype.push;PieChart.prototype.unshift=Menu.prototype.unshift;PieChart.prototype.shift=Menu.prototype.shift;PieChart.prototype.pop=Menu.prototype.pop;PieChart.prototype.remove=Menu.prototype.remove;PieChart.prototype.get=Menu.prototype.get;exports.Preloader=void 0;class Preloader extends AbstractElement{constructor(t){if(t instanceof Object){super(t);t.label&&(this._label=t.label)}else if("string"==typeof t){super({});this._label=t}else super({})}label(t){if(arguments.length){this._label=t;this.refresh()}return this._label}}exports.Preloader=Preloader;Preloader.__class__="Preloader";Preloader.component=PreloaderComponent;exports.Radio=void 0;class Radio extends Select{className(t,e){if(arguments.length){super.className(t,!0);this._layout&&(this._className+=" "+this._layout);!e&&this.refresh()}return this._className}layout(t){if(arguments.length){this._layout=t;this.className(this.__className)}return this._layout}trigger(t){super.trigger(t);let e=this._index;if(t.stop){t.ref.checked=!1;this.index(e);document.getElementById(this.active()._key.toString()).checked=!0;this.refresh()}t.stop&&t.ref&&this.refresh();return t}onChange(t){if(!t.ref||!t.target||t.stop)return;let e=parseInt(t.ref.id);this.index(void 0,!0);for(let t=0;t<this._list.length;t++)if(this._list[t]._key===e){this.index(t,!0);break}this.refresh()}list(t){return this._list}index(t,e){}active(t,e){}value(t){}push(...t){return 1}unshift(...t){return 1}shift(){}pop(){}remove(t){}get(t){}nextIndex(){}refresh(){if(this._target){this._target.refresh();for(let t=0;t<this._list.length&&this._list[t]._key;t++)document.getElementById(this._list[t]._key.toString()).checked=t===this._index}}}exports.Radio=Radio;Radio.__class__="Radio";Radio.component=RadioComponent;Radio.prototype.list=Menu.prototype.list;Radio.prototype.index=Menu.prototype.index;Radio.prototype.value=Menu.prototype.value;Radio.prototype.active=Menu.prototype.active;Radio.prototype.nextIndex=Menu.prototype.nextIndex;Radio.prototype.push=Menu.prototype.push;Radio.prototype.unshift=Menu.prototype.unshift;Radio.prototype.shift=Menu.prototype.shift;Radio.prototype.pop=Menu.prototype.pop;Radio.prototype.remove=Menu.prototype.remove;Radio.prototype.get=Menu.prototype.get;exports.Textarea=void 0;class Textarea extends Input{}exports.Textarea=Textarea;Textarea.__class__="Textarea";Textarea.component=TextareaComponent;exports.Txt=void 0;class Txt extends AbstractElement{constructor(t){if(t instanceof Object){super(t);if(t.text){this._isText=!0;this.text(t.text,t.placeholder)}if(t.html){this._isText=!1;this.html(t.html,t.placeholder)}}else if("string"==typeof t){super({});this._text=t}else super({})}text(t,e){if(arguments.length){this._isText=!0;t&&e&&(t=Txt.value(t,e));this._text=t;this.refresh()}return this._text}html(t,e){if(arguments.length){this._isText=!1;t&&e&&(t=Txt.value(t,e));this._text=t;this.refresh()}return this._text}static value(t,e){for(let s=0;s<e.length;s++)t=t.replace(new RegExp("\\{"+s+"\\}","g"),e[s]);return t}}exports.Txt=Txt;Txt.__class__="Txt";Txt.component=TxtComponent;exports.GridColumns=void 0;class GridColumns{constructor(){this.handler=this.handler.bind(this)}mounted(t){this._app=t;this._dom=t.target().ref();window.addEventListener("resize",this.handler);t.listen("onAdd",this.handler,!0);t.listen("onRemove",this.handler,!0);t.listen("onDesktop",this.handler);t.listen("onMobile",this.handler)}handler(){let t=this._dom.firstElementChild;if(this._app&&this._dom)for(let e=0;e<t.children.length;e++){let s=t.children[e].getBoundingClientRect();t.children[e].setAttribute(GridColumns.attr,Math.floor(s.width/GridColumns.grid).toString())}}}exports.GridColumns=GridColumns;GridColumns.__class__="GridColumns";GridColumns.grid=50;GridColumns.attr="cols";exports.Req=void 0;class Req{constructor(){this._isMock=!1;this._prefix=""}mime(){return Req.mime}mock(t){if(t){this._isMock=!0;Req.mock=t}return Req.mock}prefix(t){arguments.length&&(this._prefix=t||"");return this._prefix}isMock(t){arguments.length&&(this._isMock=t);return this._isMock}mounted(t){}get(t,e,s="json"){e&&(t=t+"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"));return this.request(this._prefix+t,"get",void 0,s,!!s&&"json"===s)}post(t,e,s="json"){if(e)if("json"===s)e=JSON.stringify(e);else if("form"===s)e=Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&");else if("multipart"===s){let t=new FormData;Object.keys(e).forEach(s=>t.append(s,e[s]));e=t}return this.request(this._prefix+t,"post",e,s,!!s&&"json"===s)}request(t,e,s,i="json",r=!1){if(this._isMock)return this.mRequest(t);return new Promise(function(n,o){const h=new XMLHttpRequest;i=Req.mime[i]||i;h.open(e,t,!0);h.setRequestHeader("Content-Type",Req.mime[i]||i);h.send(s);h.onreadystatechange=(()=>{4===h.readyState&&(200===h.status?n(r?JSON.parse(h.responseText):h.responseText):o(h.status))})})}mRequest(t){return new Promise(function(e,s){window.setTimeout(()=>{Req.mock[t]?e(Req.mock[t]):s("Mock data not found")},1)})}}exports.Req=Req;Req.__class__="Req";Req.mime={json:"application/json",multipart:"multipart/form-data",text:"text/plain",form:"application/x-www-form-urlencoded"};Req.mock={};exports.ToucheListener=void 0;class ToucheListener{constructor(){this._ready_to_swipe=this._swiping=this._status=this._touched=!1;this._currentPosition=this._target=this._intervalId=this._windowWidth=this._countWindows=this._currentWindow=this._windowsOnScreen=this._from=0;this._dom=this._root=document.createElement("div");this.handlerStart=this.handlerStart.bind(this);this.handlerMove=this.handlerMove.bind(this);this.handlerStop=this.handlerStop.bind(this);this.handlerResize=this.handlerResize.bind(this);this.handlerCount=this.handlerCount.bind(this);this.handlerPrev=this.handlerPrev.bind(this);this.handlerNext=this.handlerNext.bind(this);this._buttons=[document.createElement("button"),document.createElement("button")]}mounted(t){this._app=t;this._dom=t.target().ref();this._root=t.target().ref().firstChild;this._buttons[0].classList.add("icon","icon-left");this._buttons[1].classList.add("icon","icon-right");this._dom.appendChild(this._buttons[0]);this._dom.appendChild(this._buttons[1]);window.addEventListener("touchstart",this.handlerStart);window.addEventListener("touchmove",this.handlerMove);window.addEventListener("touchend",this.handlerStop);window.addEventListener("resize",this.handlerResize);this._buttons[0].addEventListener("click",this.handlerPrev);this._buttons[1].addEventListener("click",this.handlerNext);t.listen("onAdd",this.handlerCount,!0);t.listen("onRemove",this.handlerCount,!0);this._initTouched()}handlerCount(t){this._timeoutId&&window.clearTimeout(this._timeoutId);this._timeoutId=window.setTimeout(()=>this._handlerCount(t),1)}_handlerCount(t){this._timeoutId=null;!this._windowsOnScreen&&this._initWidth();this._initCount()&&this._setupSlider();this._setWindowWidth();this._last()}handlerPrev(t){this._prev()}handlerNext(t){this._next()}handlerResize(t){this._initCount();this._initWidth()&&this._setupSlider();this._last()}handlerStart(t){if(!(this._windowsOnScreen>=this._countWindows)){this._ready_to_swipe=!0;this._countWindows=this._app.length();this._from=t.changedTouches[0].pageX}}handlerMove(t){if(!this._ready_to_swipe)return;let e=t.changedTouches[0].pageX-this._from;if(!this._swiping){if(e<50&&e>-50)return;this._swiping=!0}this._position(e-this._currentWindow*this._windowWidth)}handlerStop(t){if(!this._swiping)return;let e=t.changedTouches[0].pageX-this._from;if(e<0&&Math.abs(e)+.7*this._windowWidth>this._windowWidth){e-=.7*this._windowWidth;let t=-Math.ceil(e/this._windowWidth);t=Math.min(t,this._countWindows-this._currentWindow-this._windowsOnScreen);this._currentWindow+=t}else if(e+.7*this._windowWidth>this._windowWidth){e+=.7*this._windowWidth;let t=Math.floor(e/this._windowWidth);t=Math.min(t,this._currentWindow);this._currentWindow-=t}this._move()}_initCount(){if(this._app&&this._countWindows!==this._app.length()){this._countWindows=this._app.length();return!0}return!1}_initWidth(){let t=Math.floor((Math.min(window.innerWidth,window.outerWidth)-ToucheListener.offset)/ToucheListener.minWidth);if(this._windowsOnScreen!==t){this._windowsOnScreen=t;this._setWindowWidth();return!0}this._setWindowWidth();return!1}_initTouched(){if(void 0===window.document.ontouchstart){if(this._touched){this._touched=!1;this._setClasses()}}else if(!this._touched){this._touched=!0;this._setClasses()}}_setWindowWidth(){if(this._windowsOnScreen>=this._countWindows||!this._dom||!this._windowsOnScreen)return;this._windowWidth=Math.floor((Math.min(window.innerWidth,window.outerWidth)-ToucheListener.offset)/this._windowsOnScreen);let t=this._windowWidth+"px";for(let e=0;e<this._root.children.length;e++)this._root.children[e].style.width=t;this._position(this._target)}_setClasses(){let t="";if(this._status){this._dom.classList.add("swiper");t="swiper"}else this._dom.classList.remove("swiper");if(this._touched){this._dom.classList.add("touched");t+=" touched"}else this._dom.classList.remove("touched");this._app.className(t)}_setupSlider(){if(this._windowsOnScreen<this._countWindows){this._setWindowWidth();if(!this._status){this._status=!0;this._setClasses();this._app.trigger("onMobile")}}else if(this._status){this._status=!1;for(let t=0;t<this._root.children.length;t++){this._root.children[t].style.removeProperty("width");this._root.children[t].style.removeProperty("left")}this._setClasses();this._app.trigger("onDesktop")}}_initStatus(){if(this._windowsOnScreen>=this._countWindows){if(this._status){this._status=!1;return!0}}else if(!this._status){this._status=!0;return!0}return!1}_position(t){this._currentPosition=t;if(!(this._windowsOnScreen>=this._countWindows))for(let e=0;e<this._root.children.length;e++)this._root.children[e].style.left=t+e*this._windowWidth+"px"}_move(){this._intervalId&&window.clearInterval(this._intervalId);this._target=-this._currentWindow*this._windowWidth;this._currentWindow===this._countWindows-this._windowsOnScreen?this._target+=ToucheListener.offset:this._currentWindow>0&&(this._target+=ToucheListener.offset/2);this._intervalId=window.setInterval(()=>this._handlerStep(),ToucheListener.frames)}_handlerStep(){let t=this._currentPosition-this._target;this._currentPosition-=Math.floor(t/ToucheListener.speed);if(Math.abs(t)<5){this._position(this._target);this._ready_to_swipe=this._swiping=!1;window.clearInterval(this._intervalId);this._currentWindow===this._countWindows-this._windowsOnScreen?this._dom.classList.add("last"):this._dom.classList.remove("last");0===this._currentWindow?this._dom.classList.add("first"):this._dom.classList.remove("first")}else this._position(this._currentPosition)}_stat(){return{_status:this._status,_windowsOnScreen:this._windowsOnScreen,_countWindows:this._countWindows,_currentWindow:this._currentWindow}}_first(){this._currentWindow=0;this._move()}_last(){this._currentWindow=this._countWindows-this._windowsOnScreen;this._move()}_prev(){this._currentWindow--;this._currentWindow<0?this._currentWindow=0:this._move()}_next(){this._currentWindow++;this._currentWindow>this._countWindows-this._windowsOnScreen?this._currentWindow=this._countWindows-this._windowsOnScreen:this._move()}}exports.ToucheListener=ToucheListener;ToucheListener.__class__="ToucheListener";ToucheListener.minWidth=250;ToucheListener.offset=40;ToucheListener.speed=1.5;ToucheListener.frames=20;
